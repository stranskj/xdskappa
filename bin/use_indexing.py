# -*- coding: utf-8 -*-
"""
Created on Mon Apr  3 22:00:19 2017

@author: Jan Stransky
"""

import sys

def ProcessArguments(argv):
    parser = argparse.ArgumentParser(prog= 'xdskappa.use_indexing', description='Reuse indexing solution on different dataset.', epilog='Dependencies: None')
    
    parser.add_argument('-i','--in-dataset', dest='InDataset', action='append', required=True, metavar='FILE', help='File with indexing solution to re-use on other datasets. Generally XPARM.XDS or GXPARM.XDS generated by IDXREF or CORRECT steps.')
    
    parser.add_argument('-D','--dataset-file', dest='DatasetListFile', nargs='?', required=True, default='datasets.list', const='datasets.list', metavar='FILE', help='List of datasets to re-use indexing. Entries are in format: output_subdirectory<tab>path/template_????.cbf. When no file is given, "datasets.list" is expected.')
        
    # help on empty input
    if len(argv) == 1:
        parser.print_help()     # help on empty input
        sys.exit(1)

    outArgs = parser.parse_args(argv)
    
    return outArgs

def Main(args):
    return

if __name__ == "__main__":
    
    try:
            import argparse
            
    except Exception:
            print "Your python is probably to old. At least version 2.7 is required."
            print "Your version is: " +  sys.version
            sys.exit(1)

    ProcessArguments(sys.argv)
    Main()
    sys.exit(0)
